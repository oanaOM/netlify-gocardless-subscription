_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{"1xSc":function(t,n,r){"use strict";r.d(n,"a",(function(){return S}));var e=r("nKUr"),o=r("jT3O"),i=r("q1tI"),c=r("oRYz"),u=r("20a2"),a=r("XxQ4"),s=r("5SEd"),l=r("mToe");function d(){var t=Object(o.a)(["\n    position: absolute;\n    bottom: 0;\n    margin: 32px 0;\n    font-size: 0.75rem;\n    color: rgba(26, 26, 26, 0.5);\n  "]);return d=function(){return t},t}function f(){var t=s.a.footer(d());return Object(e.jsx)(e.Fragment,{children:Object(e.jsxs)(t,{children:["Powered by ",Object(e.jsx)("strong",{children:"GoCardless"})]})})}var h=r("xwfA");function j(){var t=Object(o.a)(["\n  color: #ffffff;\n  font-size: 2rem;\n"]);return j=function(){return t},t}function b(){var t=Object(o.a)(["\n  color: rgba(26, 26, 26, 0.5);\n"]);return b=function(){return t},t}function p(){var t=Object(o.a)(["\n  align-items: top;\n"]);return p=function(){return t},t}function O(){var t=Object(o.a)(["\n  background-color: transparent;\n  padding: 32px 32px 40px;\n  height: 100%;\n  overflow-y: auto;\n  flex: 0 0 60%;\n"]);return O=function(){return t},t}function v(){var t=Object(o.a)(["\n  padding: 64px 64px 40px;\n  height: 100%;\n  overflow-y: auto;\n  background-color: ",";\n  flex: 0 0 40%;\n"]);return v=function(){return t},t}function x(){var t=Object(o.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n"]);return x=function(){return t},t}function m(){var t=Object(o.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"]);return m=function(){return t},t}var y=s.a.div(m()),g=s.a.main(x()),w=s.a.div(v(),h.b),E=s.a.div(O()),_=s.a.div(p()),k=s.a.h2(b()),C=s.a.div(j());function S(t){var n=t.leftSideChildren,r=t.rightSideChildren,o=Object(c.useIdentityContext)().user,s=Object(i.useState)(),d=s[0],h=s[1];Object(u.useRouter)();return Object(i.useEffect)((function(){h(o.user_metadata.full_name)}),[h]),Object(e.jsx)(y,{children:Object(e.jsxs)(g,{children:[Object(e.jsx)(w,{children:Object(e.jsxs)(_,{children:[Object(e.jsx)("div",{children:Object(e.jsx)(l.a,{src:"happy_dog_face.png",width:"35",height:"35"})}),Object(e.jsxs)(k,{children:["Welcome ",d,"!"]}),n&&n,!n&&Object(e.jsx)(C,{children:Object(e.jsx)(a.a,{})}),Object(e.jsx)(f,{})]})}),Object(e.jsx)(E,{children:r})]})})}},"6JX1":function(t,n,r){!function(t,n){"use strict";function r(t,n){return(r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function e(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n)}var o=function(t,n){return void 0===t&&(t=[]),void 0===n&&(n=[]),t.length!==n.length||t.some((function(t,r){return!Object.is(t,n[r])}))},i={error:null},c=function(t){function r(){for(var n,r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).state=i,n.updatedWithError=!1,n.resetErrorBoundary=function(){for(var t,r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];null==n.props.onReset||(t=n.props).onReset.apply(t,e),n.reset()},n}e(r,t),r.getDerivedStateFromError=function(t){return{error:t}};var c=r.prototype;return c.reset=function(){this.updatedWithError=!1,this.setState(i)},c.componentDidCatch=function(t,n){var r,e;null==(r=(e=this.props).onError)||r.call(e,t,n)},c.componentDidMount=function(){null!==this.state.error&&(this.updatedWithError=!0)},c.componentDidUpdate=function(t){var n,r,e=this.state.error,i=this.props.resetKeys;null===e||this.updatedWithError?null!==e&&o(t.resetKeys,i)&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,t.resetKeys,i),this.reset()):this.updatedWithError=!0},c.render=function(){var t=this.state.error,r=this.props,e=r.fallbackRender,o=r.FallbackComponent,i=r.fallback;if(null!==t){var c={error:t,resetErrorBoundary:this.resetErrorBoundary};if(n.isValidElement(i))return i;if("function"===typeof e)return e(c);if(o)return n.createElement(o,c);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},r}(n.Component);function u(t,r){var e=function(e){return n.createElement(c,r,n.createElement(t,e))},o=t.displayName||t.name||"Unknown";return e.displayName="withErrorBoundary("+o+")",e}function a(t){var r=n.useState(null),e=r[0],o=r[1];if(t)throw t;if(e)throw e;return o}t.ErrorBoundary=c,t.useErrorHandler=a,t.withErrorBoundary=u,Object.defineProperty(t,"__esModule",{value:!0})}(n,r("q1tI"))},D0Z3:function(t,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customer/[id]/subscribe",function(){return r("XI+t")}])},"XI+t":function(t,n,r){"use strict";r.r(n),r.d(n,"__N_SSP",(function(){return O})),r.d(n,"default",(function(){return v}));var e=r("nKUr"),o=r("vJKn"),i=r.n(o),c=r("rg98"),u=r("q1tI"),a=r("vDqi"),s=r.n(a),l=r("1xSc"),d=r("26zG"),f=r("2Rt/"),h=r("20a2"),j=r("ONDT");function b(t){var n=t.error;return Object(e.jsxs)("div",{role:"alert",children:[Object(e.jsx)("p",{children:"Something went wrong:"}),Object(e.jsx)("pre",{style:{color:"red"},children:n.message})]})}var p=r("6JX1"),O=!0;function v(t){var n=t.data,r=Object(u.useState)(),o=r[0],a=r[1],O=Object(u.useState)(),v=O[0],x=O[1],m=Object(d.b)(),y=new Date(Date.now()),g=Object(d.c)(),w=Object(h.useRouter)(),E=Object(j.c)().user;Object(u.useEffect)((function(){n&&m({type:"ADD_LINKS",links:n.links}),x(100*parseInt(g.subs.value.substring(1)))}),[x]);var _=function(){var t=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.post("/api/subscriptions",{amount:v,subscription_type:g.subs.category,mandate:g.links.mandate}).then((function(t){a(t.data.active),w.push({pathname:"/customer/[id]/success",query:{id:E.id}})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return console.log("redirect flow data:",n),Object(e.jsx)(p.ErrorBoundary,{FallbackComponent:b,children:Object(e.jsx)(l.a,{rightSideChildren:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("h1",{children:"Confirm your new subscription"}),Object(e.jsx)("h4",{children:g.subs.category}),Object(e.jsx)("hr",{}),Object(e.jsx)("p",{children:g.subs.description}),Object(e.jsx)("br",{}),Object(e.jsx)("br",{}),Object(e.jsx)("br",{}),Object(e.jsx)("p",{children:"What you'll pay monthly starting with "}),Object(e.jsx)("p",{children:Object(e.jsx)("strong",{children:y.toDateString()})}),Object(e.jsx)("p",{children:g.subs.value}),Object(e.jsx)("hr",{}),Object(e.jsx)("p",{children:"Amount due today"}),Object(e.jsx)("p",{children:g.subs.value}),Object(e.jsx)("br",{}),Object(e.jsx)("br",{}),o&&Object(e.jsxs)("div",{children:[o," !!"]}),Object(e.jsxs)(f.c,{children:[Object(e.jsx)(f.a,{variant:"primary",onClick:_,children:"Confirm"}),Object(e.jsx)(f.a,{type:"button",variant:"info",onClick:function(){return w.push({pathname:"/customer/[id]/manage",query:{id:E.id}})},children:"Cancel"})]})]})})})}},XxQ4:function(t,n,r){"use strict";r.d(n,"a",(function(){return u}));var e=r("nKUr"),o=(r("q1tI"),r("oRYz")),i=r("2Rt/"),c=r("20a2");function u(){var t=Object(o.useIdentityContext)(),n=Object(c.useRouter)();return Object(e.jsx)(i.a,{variant:"link",onClick:function(){t.logoutUser(),n.push("/")},children:"Logout"})}},mToe:function(t,n,r){"use strict";r.d(n,"a",(function(){return o}));var e=r("nKUr");function o(t){var n=t.src,r=t.height,o=t.width;return Object(e.jsx)("img",{src:"/".concat(n),width:o,height:r})}},rg98:function(t,n,r){"use strict";function e(t,n,r,e,o,i,c){try{var u=t[i](c),a=u.value}catch(s){return void r(s)}u.done?n(a):Promise.resolve(a).then(e,o)}function o(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var c=t.apply(n,r);function u(t){e(c,o,i,u,a,"next",t)}function a(t){e(c,o,i,u,a,"throw",t)}u(void 0)}))}}r.d(n,"a",(function(){return o}))}},[["D0Z3",0,1,4,2,3,6,5,7]]]);