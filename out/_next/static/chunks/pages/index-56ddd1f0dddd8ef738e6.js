_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{RNiq:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return g}));var c=t("nKUr"),o=t("vJKn"),r=t.n(o),i=t("rg98"),a=t("q1tI"),s=t("g4pe"),u=t.n(s),l=t("ONDT"),d=(t("6ixy"),t("BO21"),t("2Rt/")),j=t("20a2"),b=t("vDqi"),h=t.n(b),p=t("26zG"),O=t("Bl1O");function g(){var e=Object(l.c)(),n=Object(a.useState)(!1),t=n[0],o=n[1],s=Object(p.b)(),b=Object(j.useRouter)();Object(a.useEffect)(Object(i.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e&&(e.logoutUser(),localStorage.removeItem("state"));case 1:case"end":return n.stop()}}),n)}))),[]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(u.a,{children:[Object(c.jsx)("title",{children:"Happy Paws! "}),Object(c.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),Object(c.jsx)("header",{className:"header",children:!e.isLoggedIn&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Happy Paws"}),Object(c.jsx)("p",{children:"Fresh homemade food prepared for your dog. Vet approved."})]})}),Object(c.jsx)("main",{className:"container",children:!t&&!e.isLoggedIn&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(d.b,{children:[Object(c.jsx)(d.a,{onClick:function(){return o(!0)},children:"Log in"}),Object(c.jsx)(d.a,{onClick:function(){return o(!0)},children:"Sign up"})]}),Object(c.jsx)(O.a,{})]})}),Object(c.jsx)(l.b,{showDialog:t,onCloseDialog:function(){return o(!1)},onLogin:function(e){h.a.get("/api/customers").then((function(n){var t=n.data.customers.filter((function(n){return n.email===e.email}))[0];t&&s({type:"ADD_CUSTOMER",customer:t}),b.push({pathname:"/customer/[id]/manage",query:{id:e.id}})})).catch((function(e){return console.log(e)}))},onSignup:function(e){return console.log("welcome ",null===e||void 0===e?void 0:e.user_metadata)},onLogout:function(){return console.log("bye ")}})]})}},vlRD:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t("RNiq")}])}},[["vlRD",0,1,4,2,3,6,5,7,9,8]]]);