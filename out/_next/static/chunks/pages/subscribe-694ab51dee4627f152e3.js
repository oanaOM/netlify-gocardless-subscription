_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{"LwE+":function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return F}));var r=t("nKUr"),c=t("jT3O"),i=t("q1tI"),o=t("ma3e"),a=t("YFqc"),s=t.n(a),l=t("ONDT"),u=t("5SEd"),f=t("TtQW"),d=t("+84S"),j=t("xwfA"),b=t("vDqi"),h=t.n(b);function p(e){var n=e.user,t=Object(i.useState)({msg:!1}),c=t[0],o=t[1];Object(i.useEffect)((function(){h.a.get("./netlify/functions/get-customer",{method:"GET",body:JSON.stringify()}).then((function(e){return e.json()})).then((function(e){console.log("data: ",e)}))}),[]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{children:[Object(r.jsxs)("h2",{children:["Welcome ",n,"!"]}),Object(r.jsx)("p",{children:"Basic Subscription"}),c.msg?Object(r.jsx)("span",{className:"error",children:"Ups! something went wrong."}):null,Object(r.jsxs)(d.b,{onSubmit:function(e){e.preventDefault();var n,t=e.target.elements,r={email:t.email.value,family_name:t.family_name.value,given_name:t.given_name.value};return(n=r,h.a.post("http://localhost:3000/api/subscribe",n)).then((function(e){var n=e.data;console.log(n)})).catch((function(){return o({msg:!0})})),e.target.elements},children:[Object(r.jsxs)(d.e,{children:[Object(r.jsx)(d.f,{htmlFor:"given_name",isRequired:!0,children:"Given name"}),Object(r.jsx)(d.d,{type:"text",id:"given_name",required:!0})]}),Object(r.jsxs)(d.e,{children:[Object(r.jsx)(d.f,{htmlFor:"family_name",isRequired:!0,children:"Family name"}),Object(r.jsx)(d.d,{type:"text",id:"family_name"})]}),Object(r.jsxs)(d.e,{children:[Object(r.jsx)(d.f,{htmlFor:"email",isRequired:!0,children:"Email"}),Object(r.jsx)(d.d,{type:"text",id:"email"})]}),Object(r.jsxs)(d.e,{children:[Object(r.jsx)(d.f,{htmlFor:"address_line1",children:"Address line 1"}),Object(r.jsx)(d.d,{type:"text",id:"address_line1"})]}),Object(r.jsxs)(d.e,{children:[Object(r.jsx)(d.f,{htmlFor:"city",children:"City"}),Object(r.jsx)(d.d,{type:"text",id:"city"})]}),Object(r.jsxs)(d.e,{children:[Object(r.jsx)(d.f,{htmlFor:"postal_code",children:"Postal code"}),Object(r.jsx)(d.d,{type:"text",id:"postal_code"})]}),Object(r.jsxs)("p",{style:{fontSize:"0.85rem",fontStyle:"italic",textAlign:"right",width:"100%"},children:[Object(r.jsxs)("small",{style:{color:"".concat(j.f),content:"*"},children:["*"," "]}),"Required fields"]}),Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{type:"button",variant:"info",children:Object(r.jsx)(s.a,{href:"/",children:"Cancel"})}),Object(r.jsx)(d.a,{type:"submit",variant:"primary",children:"Subscribe"})]})]})]})})}function v(){var e=Object(c.a)(["\n    position: absolute;\n    bottom: 0;\n    margin: 32px 0;\n    font-size: 0.75rem;\n    color: rgba(26, 26, 26, 0.5);\n  "]);return v=function(){return e},e}function m(){var e=u.a.footer(v());return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(e,{children:["Powered by ",Object(r.jsx)("strong",{children:"GoCardless"})]})})}function O(){var e=Object(c.a)(["\n  color: #ffffff;\n  font-size: 2rem;\n"]);return O=function(){return e},e}function x(){var e=Object(c.a)(["\n  color: rgba(26, 26, 26, 0.5);\n"]);return x=function(){return e},e}function g(){var e=Object(c.a)(["\n  align-items: top;\n"]);return g=function(){return e},e}function y(){var e=Object(c.a)(["\n  background-color: transparent;\n  padding: 32px 32px 40px;\n  height: 100%;\n  overflow-y: auto;\n  flex: 0 0 60%;\n"]);return y=function(){return e},e}function _(){var e=Object(c.a)(["\n  padding: 64px 64px 40px;\n  height: 100%;\n  overflow-y: auto;\n  background-color: ",";\n  flex: 0 0 40%;\n"]);return _=function(){return e},e}function w(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n"]);return w=function(){return e},e}function E(){var e=Object(c.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"]);return E=function(){return e},e}var L=u.a.div(E()),q=u.a.main(w()),C=u.a.div(_(),j.b),M=u.a.div(y()),N=u.a.div(g()),S=u.a.h3(x()),k=u.a.div(O());function F(){var e=Object(l.c)().user,n="".full_name;return console.log(e),Object(r.jsx)(L,{children:Object(r.jsxs)(q,{children:[Object(r.jsx)(C,{children:Object(r.jsxs)(N,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(s.a,{href:{pathname:"/customer/".concat(n)},passHref:!0,children:Object(r.jsx)(o.a,{})}),Object(r.jsx)(f.a,{src:"happy_dog_face.png",width:"35",height:"35"})]}),Object(r.jsx)(S,{children:"Subscribe to Pro"}),Object(r.jsx)(k,{children:"Subscribe to Pro"}),Object(r.jsx)(m,{})]})}),Object(r.jsx)(M,{children:Object(r.jsx)(p,{user:n})})]})})}},QHDu:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/subscribe",function(){return t("LwE+")}])},YFqc:function(e,n,t){e.exports=t("cTJO")},cTJO:function(e,n,t){"use strict";var r=t("zoAU"),c=t("7KCV");n.__esModule=!0,n.default=void 0;var i=c(t("q1tI")),o=t("elyg"),a=t("nOHt"),s=t("vNVm"),l={};function u(e,n,t,r){if(e&&(0,o.isLocalURL)(n)){e.prefetch(n,t,r).catch((function(e){0}));var c=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;l[n+"%"+t+(c?"%"+c:"")]=!0}}var f=function(e){var n=!1!==e.prefetch,t=(0,a.useRouter)(),c=t&&t.pathname||"/",f=i.default.useMemo((function(){var n=(0,o.resolveHref)(c,e.href,!0),t=r(n,2),i=t[0],a=t[1];return{href:i,as:e.as?(0,o.resolveHref)(c,e.as):a||i}}),[c,e.href,e.as]),d=f.href,j=f.as,b=e.children,h=e.replace,p=e.shallow,v=e.scroll,m=e.locale;"string"===typeof b&&(b=i.default.createElement("a",null,b));var O=i.Children.only(b),x=O&&"object"===typeof O&&O.ref,g=(0,s.useIntersection)({rootMargin:"200px"}),y=r(g,2),_=y[0],w=y[1],E=i.default.useCallback((function(e){_(e),x&&("function"===typeof x?x(e):"object"===typeof x&&(x.current=e))}),[x,_]);(0,i.useEffect)((function(){var e=w&&n&&(0,o.isLocalURL)(d),r="undefined"!==typeof m?m:t&&t.locale,c=l[d+"%"+j+(r?"%"+r:"")];e&&!c&&u(t,d,j,{locale:r})}),[j,d,w,m,n,t]);var L={ref:E,onClick:function(e){O.props&&"function"===typeof O.props.onClick&&O.props.onClick(e),e.defaultPrevented||function(e,n,t,r,c,i,a,s){("A"!==e.currentTarget.nodeName||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,o.isLocalURL)(t))&&(e.preventDefault(),null==a&&(a=r.indexOf("#")<0),n[c?"replace":"push"](t,r,{shallow:i,locale:s,scroll:a}).then((function(e){e&&a&&document.body.focus()})))}(e,t,d,j,h,p,v,m)},onMouseEnter:function(e){(0,o.isLocalURL)(d)&&(O.props&&"function"===typeof O.props.onMouseEnter&&O.props.onMouseEnter(e),u(t,d,j,{priority:!0}))}};if(e.passHref||"a"===O.type&&!("href"in O.props)){var q="undefined"!==typeof m?m:t&&t.locale,C=t&&t.isLocaleDomain&&(0,o.getDomainLocale)(j,q,t&&t.locales,t&&t.domainLocales);L.href=C||(0,o.addBasePath)((0,o.addLocale)(j,q,t&&t.defaultLocale))}return i.default.cloneElement(O,L)};n.default=f},jT3O:function(e,n,t){"use strict";function r(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}t.d(n,"a",(function(){return r}))},vNVm:function(e,n,t){"use strict";var r=t("zoAU");n.__esModule=!0,n.useIntersection=function(e){var n=e.rootMargin,t=e.disabled||!o,s=(0,c.useRef)(),l=(0,c.useState)(!1),u=r(l,2),f=u[0],d=u[1],j=(0,c.useCallback)((function(e){s.current&&(s.current(),s.current=void 0),t||f||e&&e.tagName&&(s.current=function(e,n,t){var r=function(e){var n=e.rootMargin||"",t=a.get(n);if(t)return t;var r=new Map,c=new IntersectionObserver((function(e){e.forEach((function(e){var n=r.get(e.target),t=e.isIntersecting||e.intersectionRatio>0;n&&t&&n(t)}))}),e);return a.set(n,t={id:n,observer:c,elements:r}),t}(t),c=r.id,i=r.observer,o=r.elements;return o.set(e,n),i.observe(e),function(){o.delete(e),i.unobserve(e),0===o.size&&(i.disconnect(),a.delete(c))}}(e,(function(e){return e&&d(e)}),{rootMargin:n}))}),[t,n,f]);return(0,c.useEffect)((function(){if(!o&&!f){var e=(0,i.requestIdleCallback)((function(){return d(!0)}));return function(){return(0,i.cancelIdleCallback)(e)}}}),[f]),[j,f]};var c=t("q1tI"),i=t("0G5g"),o="undefined"!==typeof IntersectionObserver;var a=new Map}},[["QHDu",0,1,4,2,3,5,6]]]);